<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>yassi</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">yassi</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> yassi</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="yassi">yassi</h1>
				<p>Yet Another Simple Store Implementation</p>
				<h2 id="overview">Overview</h2>
				<p>Yassi is a very simple javascript store implementation.<br>While there are many stores out there that do the job of storing your state well such as redux, flux and others, they are all too cumbersome and opinionated.<br>Using these libraries requires too much boilerplate.<br>It is even recommended by top influential developers as well as by Redux FAQ page to use them only when your state become complex.</p>
				<p>As Pete Hunt, one of the early contributors to React, says:</p>
				<h3><em>You'll know when you need Flux. If you aren't sure if you need it, you don't need it.</em></h3>
				<p>Similarly, Dan Abramov, one of the creators of Redux, says:</p>
				<h3><em>I would like to amend this: don't use Redux until you have problems with vanilla React.</em></h3>
				<p>In addition, redux, flux and others provide public access to all their properties from anyone that can access the store.
				In many cases and especially when the project grows, the result of such broad access behaviour is a multiple location from which a property is edited which create maintenance hassle and code complexity.  </p>
				<p>Yassi approach is different.<br>It is so simple that you will <strong>want and should use it from your first line of code</strong>.
				It is publicly readable but privately writable which means everybody can access the property but only the owner can change it</p>
				<p>Yassi key features are:</p>
				<ol>
					<li>Unopinionated store - you don&#39;t need reducers or actions. Just mark the property you want to store with @yassit and you good to go</li>
					<li>Publicly readable - all properties in the store can be accessed by any consumer however only the producer/owner of the property can change it.</li>
					<li>Reactive store as well as not - You may get a property&#39;s value from the store using @select or use @observe to get a reactive observable on the given property</li>
					<li>You can register any middleware to the storing process allowing you to create powerfull tools on top of Yassi.<br>The following middleware are available:<ul>
							<li>beforeStore</li>
							<li>afterStore</li>
							<li>beforeRetrieve</li>
							<li>afterRetrieve</li>
						</ul>
					</li>
				</ol>
				<h5 id="note">Note</h5>
				<p>Yassi is still in alfa mode.</p>
				<h2 id="installation">Installation</h2>
				<p>npm install --save yassi</p>
				<h2 id="usage">Usage</h2>
				<ul>
					<li>Import Yassi </li>
					<li>Declare the properties that you like to store by add the @yassit(&#39;propertyNameInStore&#39;) before the declartion of the property</li>
					<li>On another class, create a property and declare it with either @select or @observe to read the property from the store.</li>
				</ul>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> {yassit} <span class="hljs-keyword">from</span> <span class="hljs-string">'yassi'</span>;

<span class="hljs-keyword">class</span> MyCoolClass {
  <span class="hljs-meta">@yassit</span>(<span class="hljs-string">'srcNumProp1'</span>)
    numProp1: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@yassit</span>(<span class="hljs-string">'srcNumProp2'</span>)
    numProp2: <span class="hljs-built_in">number</span> = <span class="hljs-number">2</span>;
}</code></pre>
				<p>That&#39;s it, These properties are stored on class instantiation!!!
				They are also publicly readable which mean <strong><em>only instances of MyCoolClass can change them</em></strong> but everyone can read them<br>Let&#39;s see how to use them in other component</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> {select} <span class="hljs-keyword">from</span> <span class="hljs-string">'yassi'</span>;

<span class="hljs-keyword">class</span> AnotherComponent {
  prop1: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@select</span>(<span class="hljs-string">'srcNumProp1'</span>) propFromStore: <span class="hljs-built_in">number</span>;
}</code></pre>
				<p>Again, that&#39;s it!!!
					Any change to <code>MyCoolClass.numProp1</code> will reflect on <code>AnotherComponent.propFromStore</code>.
				Note that <code>AnotherComponent.propFromStore</code> is a read only property and you cannot change it here, only via <code>MyCoolClass</code></p>
				<p>Want reactive??!
				Use <code>@observe</code> instead of <code>@select</code></p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> {observe} <span class="hljs-keyword">from</span> <span class="hljs-string">'yassi'</span>;

<span class="hljs-keyword">class</span> AnotherComponent {
  prop1: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@observe</span>(<span class="hljs-string">'srcNumProp1'</span>) propFromStore: Observable&lt;<span class="hljs-built_in">number</span>&gt;;
}</code></pre>
				<p>Now any change to <code>MyCoolClass.numProp1</code> will reflect reactivly on <code>AnotherComponent.propFromStore</code> </p>
				<h2 id="api">API</h2>
				<ul>
					<li><strong>@yassit(name: string)</strong> - prefixed on a class&#39;s property that you like to add it&#39;s values to the store upon instantiation  </li>
					<li><strong>@select(name: string)</strong> - prefixed on a class&#39;s property when you want to get a store value of named property  </li>
					<li><strong>@observe(name: string)</strong> - prefixed on a class&#39;s property when you want to observe a store propety via observable. You should subscribe to that observable to get any change in value.  </li>
					<li><strong>yassiStore.touch</strong> - call it when you change a source property that has observers and you want the value to dispatch to them. For example you have a <code>user</code> object that you observe and you have change the user.name. At this moment it will not trigger the observable so you need to call <code>touch</code> (this will be changed in comming releases)  </li>
					<li><strong>yassiStore.update(key: string, value: any)</strong> - Another way to update a stored object/property while making sure that any observer will be notified without the need to call yassiStore.touch. Update is equal to <code>user.name=&quot;changed name&quot;</code> + <code>touch</code></li>
				</ul>
				<h2 id="middlewares">Middlewares</h2>
				<p>You can register middleware functions that will be triggered synchronously before/after the yassi decorator apply</p>
				<ul>
					<li>You can register the default middleware (i.e. print action to console) by simply call registerMiddleware without callback.
						Example:
						<code>`</code>typescript
					import {registerMiddleware} from &#39;yassi&#39;;</li>
				</ul>
				<p>registerMiddleware(&#39;yassit&#39;, &#39;before&#39;);
					// Instantiation of MyCoolClass as well as updates to its properties will print the properties to the console.
				cosnt myClass = new MyCoolClass();</p>
				<pre><code>
* You may provide a call back <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to</span> <span class="hljs-title">registerMiddleware</span> <span class="hljs-title">that</span> <span class="hljs-title">will</span> <span class="hljs-title">execute</span> <span class="hljs-title">every</span> <span class="hljs-title">time</span> <span class="hljs-title">the</span> <span class="hljs-title">decorator</span> <span class="hljs-title">is</span> <span class="hljs-title">run</span>
<span class="hljs-title">Example</span>:
```<span class="hljs-title">typescript</span>
<span class="hljs-title">import</span> </span>{registerMiddleware} <span class="hljs-keyword">from</span> <span class="hljs-string">'yassi'</span>;

registerMiddleware(<span class="hljs-string">'yassit'</span>, <span class="hljs-string">'after'</span>,
    <span class="hljs-function">(<span class="hljs-params">proto: <span class="hljs-built_in">any</span>, key: <span class="hljs-built_in">string</span>, val: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`-------<span class="hljs-subst">${proto.constructor.name}</span>.<span class="hljs-subst">${key}</span>=<span class="hljs-subst">${val}</span>-------`</span>));
<span class="hljs-comment">// Instantiation of MyCoolClass will trigger the given callback calls to the console.</span>
cosnt myClass = <span class="hljs-keyword">new</span> MyCoolClass();</code></pre><p>You can register any amount of middlewares for yassit, select and observe before and/or after it.</p>
				<h2 id="to-do">To Do</h2>
				<ol>
					<li>Reduce the need of touch and update in most cases - provide a Proxy for objects so each property change will trigger the store (on first level only) </li>
					<li>Make <code>@yassi</code> work on different instances of a class. Right now it support only one instance of a class</li>
					<li>Export the store and yassi via single api file (index.ts may suffice)</li>
					<li>Run benchmark against known stores</li>
					<li>Add more examples</li>
					<li>Add UI tools/extensions</li>
				</ol>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/elementstatus.html" class="tsd-kind-icon">Element<wbr>Status</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/storeelement.html" class="tsd-kind-icon">Store<wbr>Element</a>
					</li>
					<li class=" tsd-kind-class tsd-is-not-exported">
						<a href="classes/storewrapper.html" class="tsd-kind-icon">Store<wbr>Wrapper</a>
					</li>
					<li class=" tsd-kind-class tsd-is-not-exported">
						<a href="classes/yassi.html" class="tsd-kind-icon">Yassi</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/yassipropertydescriptor.html" class="tsd-kind-icon">Yassi<wbr>Property<wbr>Descriptor</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#afterselectingmiddleware" class="tsd-kind-icon">after<wbr>Selecting<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#afteryassitmiddleware" class="tsd-kind-icon">after<wbr>Yassit<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#beforeselectingmiddleware" class="tsd-kind-icon">before<wbr>Selecting<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#beforeyassitmiddleware" class="tsd-kind-icon">before<wbr>Yassit<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#yassi" class="tsd-kind-icon">yassi</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#yassistore" class="tsd-kind-icon">yassi<wbr>Store</a>
					</li>
					<li class=" tsd-kind-function tsd-is-not-exported">
						<a href="globals.html#default_logger_middleware" class="tsd-kind-icon">DEFAULT_<wbr>LOGGER_<wbr>MIDDLEWARE</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#_registermiddleware" class="tsd-kind-icon">_register<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-function tsd-is-not-exported">
						<a href="globals.html#executeafterselectmiddleware" class="tsd-kind-icon">execute<wbr>After<wbr>Select<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-function tsd-is-not-exported">
						<a href="globals.html#executeafteryassitmiddleware" class="tsd-kind-icon">execute<wbr>After<wbr>Yassit<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-function tsd-is-not-exported">
						<a href="globals.html#executebeforeselectmiddleware" class="tsd-kind-icon">execute<wbr>Before<wbr>Select<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-function tsd-is-not-exported">
						<a href="globals.html#executebeforeyassitmiddleware" class="tsd-kind-icon">execute<wbr>Before<wbr>Yassit<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#observe" class="tsd-kind-icon">observe</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#overridepropertydefinition" class="tsd-kind-icon">override<wbr>Property<wbr>Definition</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#overrideselectpropertydefinition" class="tsd-kind-icon">override<wbr>Select<wbr>Property<wbr>Definition</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#registermiddleware" class="tsd-kind-icon">register<wbr>Middleware</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#select" class="tsd-kind-icon">select</a>
					</li>
					<li class=" tsd-kind-function tsd-is-not-exported">
						<a href="globals.html#setelementvaluehandler" class="tsd-kind-icon">set<wbr>Element<wbr>Value<wbr>Handler</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#yassit" class="tsd-kind-icon">yassit</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>