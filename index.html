<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>yassi</title><meta name="description" content="Documentation for yassi"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">yassi</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>yassi</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#yassi" id="yassi" style="color: inherit; text-decoration: none;">
  <h1>yassi</h1>
</a>
<p>Yet Another Simple Store Implementation</p>

<a href="#overview" id="overview" style="color: inherit; text-decoration: none;">
  <h2>Overview</h2>
</a>
<p>Yassi is a very simple javascript store implementation.<br>Yassi keeps your store lean and mean while allowing data extensions via facades.<br>Yassi store&#39;s properties have unique single owner thus reduce code complexity and maintenance.</p>
<p>While there are many stores out there storing your application state well enough such as redux, flux and others, they are all too cumbersome and opinionated.<br>Using these libraries requires too much boilerplate.<br>It is even recommended by top influential developers, such as Dan Abramov on his post <a href="https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367">You might not need redux</a>, as well as by Redux <a href="https://redux.js.org/faq/general#when-should-i-use-redux">FAQ</a> page to use these libraries only when your state become complex.</p>
<p>As Pete Hunt, one of the early contributors to React, says:</p>
<h3><em>You'll know when you need Flux. If you aren't sure if you need it, you don't need it.</em></h3>

<p>Similarly, Dan Abramov, one of the creators of Redux, says:</p>
<h3><em>I would like to amend this: don't use Redux until you have problems with vanilla React.</em></h3>

<p>In addition, redux, flux and others provide public access to all their properties from anyone that can access the store.<br>In many cases and especially when the project grows, the result of such broad access behaviour is the manipulation of single application 
state&#39;s properties from multiple locations which increase code complexity and maintenance hassle.    </p>
<p>Yassi approach is different.<br><em><h4>It is so simple that you will want and should use it from your first line of code!!!</h4></em><br>It is publicly readable but privately writable which means everybody can access the property but <strong>only the owner can change it</strong></p>
<p>Yassi key features are:</p>
<ol>
<li>Unopinionated store - you don&#39;t need reducers or actions. Just mark the property you want to store with @yassit and you good to go</li>
<li>Don&#39;t want annotation? No problem, use the non annotated version of Yassi&#39;s operators.</li>
<li>Publicly readable - all properties in the store can be accessed by any consumer.</li>
<li>Privately writeable - only the owner of the property (i.e the class or object own the property) can apply changes to the property.</li>
<li>Lean and mean - with <em>facades</em> you may create store entries that cannot be changed directly and only changes as a reaction to store changes. 
This behaviour allowing you to keep the store as lean as possible.</li>
<li>Reactive store as well as not - You may get a property&#39;s value from the store using @select or use @observe to get a reactive observable on the given property</li>
<li>When needed, you may commiunicate with a property&#39;s owner via endpoints to execute some exported actions on the owner&#39;s properties</li>
<li>You can register any middleware to Yassi&#39;s operators, allowing you to create powerfull tools on top of Yassi.<br>The following middleware are available:</li>
</ol>
<ul>
<li>beforeStore</li>
<li>afterStore</li>
<li>beforeRetrieve</li>
<li>afterRetrieve</li>
</ul>
<p><strong>Check the Todo MVC example for Yassi with Angular</strong>: <a href="https://github.com/KErez/todomvc-yassi-ng">TodoMVC Yassi</a></p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<p>npm install --save yassi</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<ul>
<li>Import Yassi </li>
<li>Declare the properties that you like to store by add the <code>@yassit(&#39;propertyNameInStore&#39;)</code> before the declaration of the property or use it without annotation as follow - <code>yassit(&#39;propertyNameInStore&#39;, ownerObject, ownerPropertyName)</code></li>
<li>On another class, create a property and declare it with either <code>@select</code> or <code>@observe</code> to read the property from the store.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">yassit</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyCoolClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;srcNumProp1&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">numProp1</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;srcNumProp2&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">numProp2</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1"> = </span><span class="hl-7">2</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>That&#39;s it, These properties are stored on class instantiation!!!
They are also publicly readable but privately writable which mean <strong><em>only instances of MyCoolClass can change them</em></strong> but everyone can read them<br>Let&#39;s see how to use them in other component</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">select</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">AnotherComponent</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">prop1</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-6">select</span><span class="hl-1">(</span><span class="hl-3">&#39;srcNumProp1&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">propFromStore</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Again, that&#39;s it!!!
Any change to <code>MyCoolClass.numProp1</code> will reflect on <code>AnotherComponent.propFromStore</code>.
Note that <code>AnotherComponent.propFromStore</code> is a read only property and you cannot change it here, only via <code>MyCoolClass</code></p>
<p>Want reactive??! 
Use <code>@observe</code> instead of <code>@select</code></p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">observe</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">AnotherComponent</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">prop1</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-6">observe</span><span class="hl-1">(</span><span class="hl-3">&#39;srcNumProp1&#39;</span><span class="hl-1">) </span><br/><span class="hl-1">  </span><span class="hl-2">propFromStore</span><span class="hl-1">: </span><span class="hl-5">Observable</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Now any change to <code>MyCoolClass.numProp1</code> will reflect reactivly on <code>AnotherComponent.propFromStore</code> </p>

<a href="#introducing-facades" id="introducing-facades" style="color: inherit; text-decoration: none;">
  <h2>Introducing Facades</h2>
</a>
<p>One of the key concept of Yassi is to make the store lean and simple. To do so I created Yassi&#39;s Facades.</p>
<p>The idea of facades is to encourage users to use the store (via yassit) only for core data items and any 
 derived properties should come in the form of Facades. </p>
<p> In Yassi, properties are stored by the owner thus only the owner object may change their values. Facades are stored properties that does not 
  have an owner and therefore cannot change directly (to be precise, they have owner but it is privately owned by Yassi).</p>
<p> Instead Facades listen to changes on one or more stored properties and triggers a function provided by the user on that changes to 
  create a new result from these stored properties </p>
<p>Let&#39;s see how Facades works:</p>
<p>Assume we have the following class with its yassit:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">yassit</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">ServerUserInfo</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;firstName&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">firstName</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> = </span><span class="hl-3">&#39;John&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;lastName&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">lastName</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> = </span><span class="hl-3">&#39;Doe&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;birthDate&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">birthDate</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1"> = </span><span class="hl-7">946677600000</span><span class="hl-1">; </span><br/><span class="hl-1">}</span>
</code></pre>
<p>If we want a full representation of the user info we should create facade instead of creating a new property owned by some object that can 
 be use everywhere</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">yassi</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">yassi</span><span class="hl-1">.</span><span class="hl-6">facade</span><span class="hl-1">(</span><span class="hl-3">&#39;userInfo&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;firstName&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lastName&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;birthDate&#39;</span><span class="hl-1">], ([</span><span class="hl-2">fName</span><span class="hl-1">, </span><span class="hl-2">lName</span><span class="hl-1">, </span><span class="hl-2">bDate</span><span class="hl-1">]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">first:</span><span class="hl-1"> </span><span class="hl-2">fName</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">last:</span><span class="hl-1"> </span><span class="hl-2">lName</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">full:</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-2">fName</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-2">lName</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">birth:</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-5">Date</span><span class="hl-1">(</span><span class="hl-2">bDate</span><span class="hl-1">),</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Now the store has an entry <code>userInfo</code> which will hold the entire user info object but the beauty is that this entry is not changeable by 
 anyone, it can only change as a reaction to changes on the source properties it was declared on!!!</p>
<p>An example usage of that facade will be similar to any other stored property</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">observe</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">AnotherComponent</span><span class="hl-1"> {  </span><br/><span class="hl-1">  @</span><span class="hl-6">observe</span><span class="hl-1">(</span><span class="hl-3">&#39;userInfo&#39;</span><span class="hl-1">) </span><br/><span class="hl-1">  </span><span class="hl-2">myUserInfo</span><span class="hl-1">: </span><span class="hl-5">Observable</span><span class="hl-1">&lt;</span><span class="hl-5">object</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-6">printUserInfo</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">myUserInfo</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">userInfo</span><span class="hl-1">: </span><span class="hl-5">object</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-2">userInfo</span><span class="hl-1">));</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Any change to one of the properties in the store <code>firstName</code>, <code>lastName</code> or <code>birthDate</code> will trigger a print of the new version of <code>userInfo</code></p>
<p>The return value from a facade will continue in the facade chain to any listener declared using <code>select</code> or <code>observe</code>.<br>To prevent facades of firing undesired results, a user may prevent the facade from sending its values to the next handler in the chain by returning an object contains the <code>breakFacadeChain</code> operator and the <code>payload</code> operator as follow:  </p>
<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">breakFacadeChain</span><span class="hl-1">: </span><span class="hl-2">boolean</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">payload</span><span class="hl-1">: </span><span class="hl-2">any</span><br/><span class="hl-1">}</span>
</code></pre>
<p>If the <code>breakFacadeChain</code> is true, the chain will stop and the facade result will not continue to its listeners.<br>If the <code>breakFacadeChain</code> is missing (<code>null</code> or <code>undefined</code>), the entire return value will be sent to the listeners.<br>If the <code>breakFacadeChain</code> is false, the chain will continue and the facade will send the value of <code>payload</code> to the listeners.  </p>

<a href="#communicating-with-property39s-owner" id="communicating-with-property39s-owner" style="color: inherit; text-decoration: none;">
  <h2>Communicating with property&#39;s owner</h2>
</a>
<p>As mentioned before, one of the key concept of Yassi is publicly readable/privately writable properties which mean that only the property&#39;s owner may alter the property.<br>There are cases where one would like to change or request a change from outside (i.e. not from the owner) to a property that owned by other object.<br>In this case Yassi introduce <code>yassi.castRequest</code> (replacing the deprecated <code>yassi.communicate</code>) which allows anyone in the system to cast a request to the owner in some manner.<br>How this request will be handled and what it will do is still in the control of the property&#39;s owner thus keeping the key concept of privately writable intact.  </p>

<a href="#how-it-is-done" id="how-it-is-done" style="color: inherit; text-decoration: none;">
  <h4>How it is done</h4>
</a>
<p>Declare endpoint function in the owner class/object with <code>@endpoint</code>.<br>Note that the <code>@endpoint</code> functions must be declared after <code>@yassit</code> for the store to recognize it.<br>Then call for <code>castRequest()</code> with the owner&#39;s property name (this is how Yassi recognize the owner you want to cast request to), the endpoint name and zero or more arguments that will passed to endpoint.</p>
<p>Example:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">yassit</span><span class="hl-1">, </span><span class="hl-2">endpoint</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">ServerUserInfo</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;firstName&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">firstName</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> = </span><span class="hl-3">&#39;John&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;lastName&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">lastName</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> = </span><span class="hl-3">&#39;Doe&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;birthDate&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">birthDate</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1"> = </span><span class="hl-7">946677600000</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;userType&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">userType</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1"> = </span><span class="hl-3">&#39;visitor&#39;</span><span class="hl-1">; </span><span class="hl-9">// Not an enum, I know. It is still an example only</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">endpoint</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-6">changeUserType</span><span class="hl-1">(</span><span class="hl-2">type</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-2">requester</span><span class="hl-1">: </span><span class="hl-5">any</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">authorizedUsers</span><span class="hl-1">.</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-2">requester</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1">(</span><span class="hl-2">type</span><span class="hl-1"> !== </span><span class="hl-3">&#39;visitor&#39;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-2">type</span><span class="hl-1"> !== </span><span class="hl-3">&#39;user&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">userType</span><span class="hl-1"> = </span><span class="hl-2">type</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>And somewhere in the code you can request the endpoint from another component:  </p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">yassi</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-2">yassi</span><span class="hl-1">;</span><br/><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">someFunc</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-9">// Do many things or not</span><br/><span class="hl-1">  </span><span class="hl-2">yassi</span><span class="hl-1">.</span><span class="hl-6">castRequest</span><span class="hl-1">(</span><span class="hl-3">&#39;userType&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;changeUserType&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-2">currentUser</span><span class="hl-1">);  </span><br/><span class="hl-1">}</span>
</code></pre>
<p>The <code>castRequest</code> function takes the following arguments:  </p>
<ol>
<li>The owner&#39;s stored property name in which we like to cast request to (note it could be any other name declared on the owner such as
 <code>firstName</code>/<code>lastName</code>/<code>birthDate</code>).  </li>
<li>The name of the owner&#39;s endpoint that we like to execute meaning the name of the function declared by <code>@endpoint</code>.  </li>
<li>Zero or more arguments the endpoint function expect as input.</li>
</ol>
<p>Note that the control of what is bean done is still at the hand of the owner.  </p>

<a href="#republishing-properties-to-all-its-listeners" id="republishing-properties-to-all-its-listeners" style="color: inherit; text-decoration: none;">
  <h2>Republishing properties to all its listeners</h2>
</a>
<p>There might be cases which a property is changed deep in the object hierarchy such as an array of objects where one of the objects&#39; property
 was changed, since this property is not tracked by Yassi, we will not update the listeners for this change.<br>In such cases you may use <code>republish(property name in store)</code> to publish the property again to all the listerns.<br>Example:</p>
<pre><code class="language-typescript"><span class="hl-9">// Somewhere in the code we have:</span><br/><span class="hl-1">@</span><span class="hl-6">yassit</span><span class="hl-1">(</span><span class="hl-3">&#39;itemList&#39;</span><span class="hl-1">)</span><br/><span class="hl-2">itemList</span><span class="hl-1"> = [{</span><span class="hl-2">active:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">}];</span><br/><br/><span class="hl-9">// And a listener somewhere else</span><br/><span class="hl-1">@</span><span class="hl-6">observe</span><span class="hl-1">(</span><span class="hl-3">&#39;itemList&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">itemListFromOutside</span><span class="hl-1">: </span><span class="hl-2">Observable</span><span class="hl-1">&lt;</span><span class="hl-2">any</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-9">// and later on the code do:</span><br/><span class="hl-2">itemList</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">].</span><span class="hl-2">active</span><span class="hl-1"> = </span><span class="hl-4">false</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// in order to see this change on `itemListFromOutside` we need to tell yassi to publish the list again as follow:</span><br/><span class="hl-2">yassi</span><span class="hl-1">.</span><span class="hl-6">republish</span><span class="hl-1">(</span><span class="hl-3">&#39;itemList&#39;</span><span class="hl-1">);</span>
</code></pre>

<a href="#api" id="api" style="color: inherit; text-decoration: none;">
  <h2>API</h2>
</a>
<ul>
<li><strong>@yassit(name: string)</strong> - prefixed on a class&#39;s property that you like to add it&#39;s values to the store upon instantiation</li>
<li><strong>yassi.yassit(name: string, owner?: any, name?: string)</strong> - without annotation the <code>owner</code> and <code>name</code> are object and it&#39;s property in correspond that we like to store</li>
<li><strong>@select(name: string)</strong> - prefixed on a class&#39;s property when you want to get a store value of named property</li>
<li><strong>yassi.select(name: string, targetObj: object, targetProp: string)</strong> - without annotation, the targetObj and targetProp are object and it&#39;s property in correspond that we like to apply the store data on.</li>
<li><strong>@observe(name: string)</strong> - prefixed on a class&#39;s property when you want to observe a store propety via observable. You should subscribe to that observable to get any change in value.</li>
<li><strong>yassi.observe(name: string, targetObj: object, targetProp: string)</strong> - without annotation, the targetObj and targetProp are object and it&#39;s property in correspond that we like to apply the store data on reactively.  </li>
<li><strong>facade(name: string, yassiElementsName: string[], fn: (yassiElementsValue: any[]) =&gt; any)</strong> - The facade results will be stored in the store under the <code>name</code> entry and will execute the <code>fn</code> on each change on one of the stored values represented by <code>yassiElementsName</code></li>
<li><strong>registerMiddleware(action: string, position: string, fn: (proto, key, val) =&gt; void = null)</strong> - Register a middleware function that will execute on the target action (either before or after it). Good place to execute loggers or monitoring tools.</li>
<li><strong>castRequest(yassiPropName: string, endpointName: string, ...functionParams)</strong> - execute an endpoint of name <code>endpointName</code> of the owner of <code>yassiPropName</code> with the given parameters.</li>
<li><del>communicate(yassiPropName: string, endpointName: string, functionParams: any[]) - execute an endpoint of name <code>endpointName</code> of the owner of <code>yassiPropName</code> with the given parameters.</del><br>Note this method is deprecated and was replaced with the <code>castRequest</code> which use rest parameters instead of array for the endpoint</li>
</ul>

<a href="#middlewares" id="middlewares" style="color: inherit; text-decoration: none;">
  <h2>Middlewares</h2>
</a>
<p>You can register middleware functions that will be triggered synchronously before/after the yassi decorator apply</p>
<ul>
<li>You can register the default middleware (i.e. print action to console) by simply call registerMiddleware without callback. 
Example:
```typescript
import {registerMiddleware} from &#39;yassi&#39;;</li>
</ul>
<p>registerMiddleware(&#39;yassit&#39;, &#39;before&#39;);
// Instantiation of MyCoolClass as well as updates to its properties will print the properties to the console.
const myClass = new MyCoolClass();</p>
<pre><code><br/><span class="hl-1">* </span><span class="hl-2">You</span><span class="hl-1"> </span><span class="hl-2">may</span><span class="hl-1"> </span><span class="hl-2">provide</span><span class="hl-1"> </span><span class="hl-2">a</span><span class="hl-1"> </span><span class="hl-2">call</span><span class="hl-1"> </span><span class="hl-2">back</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">to</span><span class="hl-1"> </span><span class="hl-6">registerMiddleware</span><span class="hl-1"> </span><span class="hl-6">that</span><span class="hl-1"> </span><span class="hl-6">will</span><span class="hl-1"> </span><span class="hl-6">execute</span><span class="hl-1"> </span><span class="hl-6">every</span><span class="hl-1"> </span><span class="hl-6">time</span><span class="hl-1"> </span><span class="hl-6">the</span><span class="hl-1"> </span><span class="hl-6">decorator</span><span class="hl-1"> </span><span class="hl-6">is</span><span class="hl-1"> </span><span class="hl-6">run</span><br/><span class="hl-6">Example</span><span class="hl-1">:</span><br/><span class="hl-1">```</span><span class="hl-6">typescript</span><br/><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">registerMiddleware</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yassi&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">registerMiddleware</span><span class="hl-1">(</span><span class="hl-3">&#39;yassit&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;after&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    (</span><span class="hl-2">proto</span><span class="hl-1">: </span><span class="hl-5">any</span><span class="hl-1">, </span><span class="hl-2">key</span><span class="hl-1">: </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-2">val</span><span class="hl-1">: </span><span class="hl-5">any</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">`-------</span><span class="hl-4">${</span><span class="hl-2">proto</span><span class="hl-10">.</span><span class="hl-2">constructor</span><span class="hl-10">.</span><span class="hl-2">name</span><span class="hl-4">}</span><span class="hl-3">.</span><span class="hl-4">${</span><span class="hl-2">key</span><span class="hl-4">}</span><span class="hl-3">=</span><span class="hl-4">${</span><span class="hl-2">val</span><span class="hl-4">}</span><span class="hl-3">-------`</span><span class="hl-1">));</span><br/><span class="hl-9">// Instantiation of MyCoolClass will trigger the given callback calls to the console.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-11">myClass</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyCoolClass</span><span class="hl-1">();</span>
</code></pre>
<p>You can register any amount of middlewares for yassit, select and observe before and/or after it.</p>

<a href="#to-do" id="to-do" style="color: inherit; text-decoration: none;">
  <h2>To Do</h2>
</a>
<ol>
<li>Make <code>@yassi</code> work on different instances of a class. Right now it support only one instance of a class</li>
<li>Run benchmark against known stores</li>
<li>Add more examples</li>
<li>Add UI tools/extensions</li>
</ol>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-variable"><a href="modules.html#yassi" class="tsd-kind-icon">yassi</a></li><li class="tsd-kind-function"><a href="modules.html#endpoint" class="tsd-kind-icon">endpoint</a></li><li class="tsd-kind-function"><a href="modules.html#observe" class="tsd-kind-icon">observe</a></li><li class="tsd-kind-function"><a href="modules.html#registerMiddleware" class="tsd-kind-icon">register<wbr/>Middleware</a></li><li class="tsd-kind-function"><a href="modules.html#select" class="tsd-kind-icon">select</a></li><li class="tsd-kind-function"><a href="modules.html#yassit" class="tsd-kind-icon">yassit</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>